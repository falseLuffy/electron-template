<template>
  <div class="data-visual" ref="dataContainer">
    <div class="header">
      <svg class="back" @click="$router.push({path: '/'})" width="75px" height="40px" viewBox="0 0 75 40" version="1.1"
           xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <defs>
          <linearGradient x1="62.6201923%" y1="0%" x2="0%" y2="62.6802885%" id="linearGradient-back">
            <stop stop-color="#1E8EFF" offset="0%"></stop>
            <stop stop-color="#3629BE" offset="100%"></stop>
          </linearGradient>
        </defs>
        <g id="页面1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g id="公益诉讼态势分析备份-19" transform="translate(-32.000000, -28.000000)">
            <g id="编组-23" transform="translate(32.000000, 28.000000)">
              <g id="出生年月">
                <path
                  d="M0.939339828,15.767767 C0.658035261,16.0490715 0.5,16.4306024 0.5,16.8284271 L0.5,38 C0.5,38.8284271 1.17157288,39.5 2,39.5 L57.3431458,39.5 C58.2714035,39.5 59.1616422,39.1312511 59.8180195,38.4748737 L73.4748737,24.8180195 C74.1312511,24.1616422 74.5,23.2714035 74.5,22.3431458 L74.5,2 C74.5,1.17157288 73.8284271,0.5 73,0.5 L17.6568542,0.5 C16.7285965,0.5 15.8383578,0.868748941 15.1819805,1.52512627 L0.939339828,15.767767 Z"
                  id="bg" stroke="#3E7DD4"></path>
                <path d="M11.7928932,0.5 L0.5,0.5 L0.5,11.7928932 L11.7928932,0.5 Z" id="路径-3" stroke-opacity="0.7"
                      stroke="#51A3FF" fill-opacity="0.3" fill="url(#linearGradient-back)"></path>
                <path d="M73.7928932,27.5 L62.5,27.5 L62.5,38.7928932 L73.7928932,27.5 Z" id="路径-3备份"
                      stroke-opacity="0.7" stroke="#51A3FF" fill-opacity="0.3" fill="url(#linearGradient-back)"
                      transform="translate(68.500000, 33.500000) scale(-1, -1) translate(-68.500000, -33.500000) "></path>
              </g>
              <g id="返回" transform="translate(25.000000, 7.000000)" fill-rule="nonzero">
                <rect id="矩形" fill="#000000" opacity="0" x="0" y="0" width="26" height="26"></rect>
                <path
                  d="M15.932084,7.20824609 L11.4593984,7.20824609 L11.4593984,3.492125 L1.68070703,8.48722266 L11.4593984,13.4810508 L11.4593984,9.76622461 L16.2896094,9.76622461 C20.1064043,9.76622461 22.0148145,11.4102676 22.0148145,14.699623 C22.0148145,18.1111074 20.0459746,19.7551758 16.0516738,19.7551758 L4.84036719,19.7551758 L4.84036719,22.3748281 L16.2303984,22.3748281 C21.5968594,22.3748281 24.3398848,19.8772793 24.3398848,14.9438555 C24.3398848,9.76622461 21.5377246,7.20824609 15.932084,7.20824609 Z"
                  id="路径" fill="#0091FF"></path>
              </g>
            </g>
          </g>
        </g>
      </svg>
      <svg width="970px" height="60px" viewBox="0 0 970 60" version="1.1" xmlns="http://www.w3.org/2000/svg"
           xmlns:xlink="http://www.w3.org/1999/xlink">
        <defs>
          <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="linearGradient-1">
            <stop stop-color="#051D48" offset="0%"></stop>
            <stop stop-color="#0F63A7" offset="100%"></stop>
          </linearGradient>
        </defs>
        <g id="页面1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g id="公益诉讼态势分析备份-19" transform="translate(-475.000000, -1.000000)">
            <g id="编组-24" transform="translate(480.000000, 1.000000)">
              <polygon id="路径-5备份" fill="url(#linearGradient-1)"
                       points="178 0 232.128713 59 727.970297 59 783 0"></polygon>
              <path id="路径-5"
                    d="M4.47253561,9.5 C4.22381347,11.7499752 2.31627683,13.5 0,13.5 C-2.48528137,13.5 -4.5,11.4852814 -4.5,9 C-4.5,6.51471863 -2.48528137,4.5 0,4.5 C2.31627683,4.5 4.22381347,6.25002477 4.47253561,8.5 L167.864331,8.5 L214.993044,58.5 L742.402995,58.5 L789.531708,8.5 L955.527464,8.5 C955.776187,6.25002477 957.683723,4.5 960,4.5 C962.485281,4.5 964.5,6.51471863 964.5,9 C964.5,11.4852814 962.485281,13.5 960,13.5 C957.683723,13.5 955.776187,11.7499752 955.527464,9.5 L789.963341,9.5 L742.834628,59.5 L214.561411,59.5 L167.432698,9.5 L4.47253561,9.5 Z M742.402995,58.5 L742.254966,58.6570481 L742.618812,58.5 L742.402995,58.5 Z"
                    fill="#32C5FF" fill-rule="nonzero"></path>
              <path d="M330.994357,57 L630.669706,57" id="直线" stroke="#34CBEB" stroke-width="3"
                    stroke-linecap="square"></path>
              <rect id="矩形" stroke="#9BFFFF" fill="#9BFFFF" x="380.5" y="56.5" width="199" height="2" rx="1"></rect>
              <rect id="矩形备份-6" stroke="#9BFFFF" fill="#9BFFFF" x="368.5" y="56.5" width="2" height="2" rx="1"></rect>
              <rect id="矩形备份-6" stroke="#9BFFFF" fill="#9BFFFF" x="589.5" y="56.5" width="2" height="2" rx="1"></rect>
              <text id="公益诉讼决策支持系统" opacity="1" font-family="baidu" font-size="36" font-weight="normal"
                    letter-spacing="1.125" fill="#69DEFF">
                <tspan x="295" y="40">公益诉讼决策支持系统</tspan>
              </text>
            </g>
          </g>
        </g>
      </svg>
    </div>
    <svg class="timer-picker-wrap" width="300px" height="40px" viewBox="0 0 300 40" version="1.1"
         xmlns="http://www.w3.org/2000/svg"
         xmlns:xlink="http://www.w3.org/1999/xlink">
      <desc>Created with Sketch.</desc>
      <defs>
        <linearGradient x1="62.6201923%" y1="0%" x2="0%" y2="62.6802885%" id="linearGradient-1">
          <stop stop-color="#1E8EFF" offset="0%"></stop>
          <stop stop-color="#3629BE" offset="100%"></stop>
        </linearGradient>
      </defs>
      <g id="南沙10-23" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <path
          d="M0.939339828,15.767767 C0.658035261,16.0490715 0.5,16.4306024 0.5,16.8284271 L0.5,38 C0.5,38.8284271 1.17157288,39.5 2,39.5 L282.343146,39.5 C283.271403,39.5 284.161642,39.1312511 284.818019,38.4748737 L298.474874,24.8180195 C299.131251,24.1616422 299.5,23.2714035 299.5,22.3431458 L299.5,2 C299.5,1.17157288 298.828427,0.5 298,0.5 L17.6568542,0.5 C16.7285965,0.5 15.8383578,0.868748941 15.1819805,1.52512627 L0.939339828,15.767767 Z"
          id="bg" stroke="#3E7DD4"></path>
        <path d="M11.7928932,0.5 L0.5,0.5 L0.5,11.7928932 L11.7928932,0.5 Z" id="路径-3" stroke-opacity="0.7"
              stroke="#51A3FF" fill-opacity="0.3" fill="url(#linearGradient-1)"></path>
        <path d="M298.792893,27.5 L287.5,27.5 L287.5,38.7928932 L298.792893,27.5 Z" id="路径-3备份" stroke-opacity="0.7"
              stroke="#51A3FF" fill-opacity="0.3" fill="url(#linearGradient-1)"
              transform="translate(293.500000, 33.500000) scale(-1, -1) translate(-293.500000, -33.500000) "></path>
        <foreignObject x="18" y="4" width="265px" height="40px">
          <el-date-picker
            class="el-time-picker"
            v-model="dateArea"
            @change="handleDateChange"
            type="daterange"
            prefix-icon="null"
            range-separator="-"
            value-format="yyyy-MM-dd"
            start-placeholder="开始日期"
            end-placeholder="结束日期">
          </el-date-picker>
        </foreignObject>
      </g>
    </svg>
    <div class="center">
      <div class="layout">
        <div class="layout-side-l">
          <div style="height: 309px;margin: 0 0 24px 0;">
            <chart-box title="诉讼类型分布" v-model="suitType.currentTab" :auto="7000">
              <div class="lawsuit-type-wrap">
                <div class="pieChart-wrap" v-for="item in suitType.pool[suitType.currentTab]">
                  <pieChart :gradual="suitType.gradual[item.type]" :data="item"></pieChart>
                  <p class="chart-desc">{{item.name}}</p>
                </div>
              </div>
            </chart-box>
          </div>
          <div style="height: 309px;margin: 24px 0;">
            <chart-box title="区域分布" v-model="regionTop.currentTab" :auto="3000">
              <div class="progress-wrap" v-autoScroll="{start: true, callback:function() {}}">
                <c-progress
                  :color="progressColor(index)"
                  :index="index+1" :percentage="parseInt(item.rate)" :data="item.value"
                  v-for="(item, index) in regionTop.pool[regionTop.currentTab]"
                  :label="item.name" :key="'progress'+ index"></c-progress>
              </div>
            </chart-box>
          </div>
          <div style="height: 298px;margin: 24px 0 0;">
            <chart-box title="领域分布" v-model="suitFieldDistribute.currentTab">
              <div slot="feature" style="float: right;margin-right: 24px;padding-top: 8px;">
                <tabs v-model="suitFieldDistribute.currentTab"></tabs>
              </div>
              <div class="radar-wrap" style="width: 100%; height: 100%">
                <radar-chart :data="suitFieldDistribute.pool[suitFieldDistribute.currentTab] || []"></radar-chart>
              </div>
            </chart-box>
          </div>
        </div>
        <div class="layout-middle">
          <div class="dataMap-wrap">
            <dataMap :mapJson="mapJson" :active-regions="activeRegions" @change="handleMapChange"></dataMap>
            <div class="dataMap-descript">
              <div class="description first">
                <svg class="icon" width="50px" height="50px" viewBox="0 0 50 50" version="1.1"
                     xmlns="http://www.w3.org/2000/svg"
                     xmlns:xlink="http://www.w3.org/1999/xlink">
                  <!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com -->
                  <title>线索</title>
                  <desc>Created with Sketch.</desc>
                  <g id="南沙10-23" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g id="公益诉讼态势分析备份-19" transform="translate(-638.000000, -173.000000)" fill-rule="nonzero">
                      <g id="编组-22备份" transform="translate(623.000000, 151.000000)">
                        <g id="线索" transform="translate(16.000000, 23.000000)">
                          <rect id="矩形" fill="#051944" x="0" y="0" width="48" height="48" rx="4"></rect>
                          <path
                            d="M44,0 C46.209139,0 48,1.790861 48,4 M48,44 C48,46.209139 46.209139,48 44,48 M4,48 C1.790861,48 0,46.209139 0,44 M0,4 C0,1.790861 1.790861,0 4,0 L4,0"
                            id="形状" stroke="#0091FF"></path>
                          <path
                            d="M38.9994725,26.9574998 L38.9994725,12.7499998 C38.9994724,7.91750833 35.0821018,4 30.2497802,4 C25.4174587,4 21.500088,7.91750833 21.5000879,12.7499998 L21.5000879,35.2499998 C21.5000879,37.3210676 19.8212148,39 17.7502198,39 C15.6792248,39 14.0003516,37.3210676 14.0003516,35.2499998 L14.0003516,21.0399998 C17.4440973,19.8224091 19.5098381,16.3008342 18.8921688,12.7006672 C18.2744995,9.10050009 15.1530834,6.468932 11.5004396,6.468932 C7.84779574,6.468932 4.72637959,9.10050009 4.10871029,12.7006672 C3.49104099,16.3008342 5.55678185,19.8224091 9.00052746,21.0399998 L9.00052746,35.2499998 C9.00052746,40.0824914 12.9178981,44 17.7502198,44 C22.5825414,44 26.4999121,40.0824914 26.4999121,35.2499998 L26.4999121,12.7499998 C26.4999122,10.678932 28.1787853,9 30.2497802,9 C32.3207752,9 33.9996483,10.678932 33.9996484,12.7499998 L33.9996484,26.9624998 C30.5559027,28.1800906 28.4901619,31.7016654 29.1078312,35.3018325 C29.7255005,38.9019995 32.8469166,41.5335676 36.4995604,41.5335676 C40.1522043,41.5335676 43.2736204,38.9019995 43.8912897,35.3018325 C44.508959,31.7016654 42.4432181,28.1800906 38.9994725,26.9624998 L38.9994725,26.9574998 Z M11.5004396,11.4999998 C12.8811029,11.4999998 14.0003516,12.6192879 14.0003516,13.9999998 C14.0003516,15.3807117 12.8811029,16.4999998 11.5004396,16.4999998 C10.1197762,16.4999998 9.00052746,15.3807117 9.00052746,13.9999998 C9.00052746,12.6192879 10.1197762,11.4999998 11.5004396,11.4999998 L11.5004396,11.4999998 Z M36.4995604,36.4999998 C35.1188971,36.4999998 33.9996484,35.3807117 33.9996484,33.9999998 C33.9996484,32.6192879 35.1188971,31.4999998 36.4995604,31.4999998 C37.8802238,31.4999998 38.9994725,32.6192879 38.9994725,33.9999998 C38.9994725,35.3807117 37.8802238,36.4999998 36.4995604,36.4999998 Z"
                            id="形状" fill="#417FEF"></path>
                        </g>
                      </g>
                    </g>
                  </g>
                </svg>
                <div class="wrap">
                  <div class="title">线索数量/条</div>
                  <div class="number">
                    <NumberGrow v-if="noticeAndsuggestion.pool.clue_num" :value="noticeAndsuggestion.pool.clue_num"></NumberGrow>
                    <span v-else>{{noticeAndsuggestion.pool.clue_num}}</span>
                  </div>
                </div>
              </div>
              <div class="description second">
                <svg class="icon" width="66px" height="66px" viewBox="0 0 66 66" version="1.1"
                     xmlns="http://www.w3.org/2000/svg"
                     xmlns:xlink="http://www.w3.org/1999/xlink">
                  <g id="南沙10-23" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g id="公益诉讼态势分析备份-19" transform="translate(-1076.000000, -234.000000)" fill-rule="nonzero">
                      <g id="编组-22备份-3" transform="translate(1056.000000, 204.000000)">
                        <g id="线索" transform="translate(21.000000, 31.000000)">
                          <rect id="矩形" fill="#051944" x="0" y="0" width="64" height="64" rx="4"></rect>
                          <path
                            d="M58.6666667,0 C61.6121853,0 64,2.38781467 64,5.33333333 M64,58.6666667 C64,61.6121853 61.6121853,64 58.6666667,64 M5.33333333,64 C2.38781467,64 0,61.6121853 0,58.6666667 M0,5.33333333 C0,2.38781467 2.38781467,0 5.33333333,0 L5.33333333,0"
                            id="形状" stroke="#0091FF"></path>
                          <g id="立案信息" transform="translate(8.000000, 5.333333)">
                            <rect id="矩形" fill="#000000" opacity="0" x="0" y="0" width="53.3333333"
                                  height="53.3333333"></rect>
                            <path
                              d="M37.4886111,7.24444443 C37.167915,7.24398231 36.8720091,7.07186511 36.7130556,6.79333333 C36.5530556,6.51444443 36.5530556,5.17444443 36.7130556,4.89555557 C36.8720357,4.61650999 37.1685664,4.4444443 37.4897222,4.4444443 L41.0786111,4.4444443 C42.2652778,4.4444443 43.4041667,4.92 44.2441667,5.76666667 C45.0843547,6.61532059 45.5555441,7.76134897 45.5552779,8.95555557 L45.5552779,24.8855556 C45.5552779,25.3844445 44.2486111,25.7844444 43.7541667,25.7844444 C43.2579787,25.7819956 42.8573799,25.3784147 42.8586111,24.8822222 L42.8586111,9.94777776 C42.8586111,9.23 42.5752778,8.54111109 42.0708333,8.03333333 C41.5675,7.52555557 40.9997222,7.24444443 40.2875,7.24444443 L37.4897222,7.24444443 L37.4886111,7.24444443 Z M23.3886111,50.4488889 C23.8830555,50.4488889 24.6708333,50.7233333 24.6708333,51.7888889 C24.6708333,52.8544445 23.8819444,53.3333333 23.3886111,53.3333333 L7.81083333,53.3333333 C6.62117889,53.3325681 5.48113325,52.856549 4.64416667,52.0111111 C3.80397861,51.1624572 3.33278925,50.0164288 3.33305546,48.8222222 L3.33305546,8.95555557 C3.33305546,6.46444443 5.3375,4.44444443 7.81083333,4.44444443 L11.9963889,4.44444443 C12.4908333,4.44444443 12.8919445,4.84888885 12.8919444,5.34666667 C12.8919444,5.84555557 12.4908333,7.27555557 11.9963889,7.27555557 L8.6575,7.27555557 C7.17416667,7.27555557 6.28638891,7.83777781 6.28638891,9.33333333 L6.28527776,47.7411111 C6.28527776,48.46 6.5675,49.1477778 7.07194443,49.6555556 C7.57409621,50.1628601 8.25814184,50.4484792 8.97194443,50.4488889 L23.3886111,50.4488889 L23.3886111,50.4488889 Z"
                              id="形状" fill="#417FEF"></path>
                            <path
                              d="M14.5730556,2.57555557 C14.0997222,2.57555557 13.7152778,2.90888891 13.7152778,3.32 L13.7152778,8.21777776 C13.7152778,8.62888885 14.0997222,8.96333333 14.5730556,8.96333333 L34.7663889,8.96333333 C35.2397222,8.96333333 35.6241667,8.63 35.6241667,8.21777776 L35.6241667,3.32111109 C35.6241667,2.90888885 35.2397222,2.57555557 34.7663889,2.57555557 L14.5730556,2.57555557 Z M13.8552778,0 L35.3963889,0 C36.1241667,0 36.8219445,0.291111094 37.3363889,0.808888906 C37.8508333,1.32666667 38.1408333,2.02777781 38.1408333,2.76 L38.1408333,8.80111109 C38.1408333,9.53444443 37.8519444,10.2355555 37.3363889,10.7533333 C36.8230612,11.2701446 36.1248113,11.5608821 35.3963889,11.5611111 L13.8552778,11.5611111 C13.1253421,11.5590512 12.4261214,11.2671084 11.9114376,10.7495073 C11.3967538,10.2319063 11.1087676,9.53104669 11.1108223,8.80111109 L11.1108223,2.76 C11.1087676,2.0300644 11.3967538,1.32920478 11.9114376,0.811603746 C12.4261214,0.29400271 13.1253421,0.00205989191 13.8552778,0 Z M30.7375,44.4444444 C30.2319444,44.4444444 29.8230556,44.7633333 29.8230556,45.1555556 L29.8230556,46.7511111 C29.8230556,47.1444444 30.2319445,47.4633333 30.7375,47.4633333 L47.1597222,47.4633333 C47.6641667,47.4633333 48.0730556,47.1444444 48.0730556,46.7522222 L48.0730556,45.1555556 C48.0730556,44.7622222 47.6641667,44.4433333 47.1586111,44.4433333 L30.7363889,44.4433333 L30.7375,44.4444444 Z M30.7375,42.25 L47.1597222,42.25 C47.8863889,42.25 48.5841667,42.5411111 49.0997222,43.0588889 C49.6141667,43.5766667 49.9030556,44.2777778 49.9030556,45.01 L49.9030556,47.0711111 C49.9030556,47.8033333 49.6141667,48.5044444 49.0997222,49.0233333 C48.586053,49.5403136 47.8873941,49.8311111 47.1586111,49.8311111 L30.7363889,49.8311111 C30.0083517,49.8305864 29.3105562,49.5398716 28.7975,49.0233333 C28.2820207,48.5043907 27.9928209,47.8025619 27.9930554,47.0711111 L27.9930554,45.0111111 C27.9930554,44.2788889 28.2819445,43.5777778 28.7975,43.06 C29.3106447,42.542781 30.0089173,42.2516341 30.7375,42.2511111 L30.7375,42.25 Z M29.1408333,50.6055556 L48.6363889,50.6055556 C49.3896439,50.6055556 50.0002778,51.2161894 50.0002778,51.9694445 C50.0002778,52.7226995 49.3896439,53.3333333 48.6363889,53.3333333 L29.1408333,53.3333333 C28.3875783,53.3333333 27.7769445,52.7226995 27.7769445,51.9694445 C27.7769445,51.2161894 28.3875783,50.6055556 29.1408333,50.6055556 L29.1408333,50.6055556 Z M13.7308333,16.6666667 L34.8019444,16.6666667 C35.6355876,16.6666667 36.3113889,17.342468 36.3113889,18.1761111 C36.3113889,19.0097543 35.6355876,19.6855556 34.8019444,19.6855556 L13.7308333,19.6855556 C12.8971902,19.6855556 12.2213889,19.0097543 12.2213889,18.1761111 C12.2213889,17.342468 12.8971902,16.6666667 13.7308333,16.6666667 L13.7308333,16.6666667 Z M13.7308333,23.3333333 L26.4841667,23.3333333 C27.3178098,23.3333333 27.9936111,24.0091346 27.9936111,24.8427778 C27.9936111,25.6764209 27.3178098,26.3522222 26.4841667,26.3522222 L13.7308333,26.3522222 C12.8971902,26.3522222 12.2213889,25.6764209 12.2213889,24.8427778 C12.2213889,24.0091346 12.8971902,23.3333333 13.7308333,23.3333333 L13.7308333,23.3333333 Z M13.7308333,30 L20.7130556,30 C21.5466987,30 22.2225,30.6758013 22.2225,31.5094445 C22.2225,32.3430876 21.5466987,33.0188889 20.7130556,33.0188889 L13.7308333,33.0188889 C12.8971902,33.0188889 12.2213889,32.3430876 12.2213889,31.5094445 C12.2213889,30.6758013 12.8971902,30 13.7308333,30 Z"
                              id="形状" fill="#417FEF"></path>
                            <path
                              d="M42.3508333,33.62 C42.8952778,32.6422222 42.8286111,31.3811111 41.4197222,30.3866667 C40.0119445,29.3911111 37.9041667,29.4788889 36.3952778,30.3866667 C34.8863889,31.2933333 34.8019444,32.6311111 35.6497222,33.8033333 C37.5697222,35.9566667 38.3319445,37.7277778 37.5430556,39.5455556 C37.2297222,40.2677778 36.6141667,41.9033333 35.1097222,42.3522222 L42.5997222,42.3522222 C41.2141667,41.9022222 40.5330556,40.2511111 40.2319444,39.5455556 C39.5519444,37.9544445 40.2986111,36.1444445 41.8319444,34.3744444 L42.3508333,33.62 Z M42.8697222,35.3466667 C41.6663889,36.8833333 41.3875,37.84 42.2808333,39.4833333 C42.9275,40.6755556 44.1252778,41.5411111 45.4808333,41.8477778 C46.4841667,42.0755555 46.2841667,43.2888889 45.2430556,43.2888889 L32.5863889,43.2888889 C31.5463889,43.2888889 31.3463889,42.0755556 32.3486111,41.8477778 C33.7063889,41.5411111 34.9030555,40.6755555 35.5508333,39.4833333 C36.4952778,37.7411111 35.9063889,36.0066667 35.0708333,35.5111111 L34.2219444,34.6444444 C32.7441667,32.7288889 33.2330555,30.21 35.3608333,28.7644444 C37.4886111,27.32 40.5919444,27.4022222 42.6030556,28.9544444 C44.6141667,30.5077778 44.9052778,33.0488889 43.2819444,34.8822222 L42.8697222,35.3466667 Z"
                              id="形状" fill="#417FEF"></path>
                          </g>
                        </g>
                      </g>
                    </g>
                  </g>
                </svg>
                <div class="wrap">
                  <div class="title">立案数量/条</div>
                  <div class="number">
                    <NumberGrow v-if="noticeAndsuggestion.pool.filing_num" :value="noticeAndsuggestion.pool.filing_num"></NumberGrow>
                    <span v-else>{{noticeAndsuggestion.pool.filing_num}}</span>
                  </div>
                </div>
              </div>
              <div class="description three">
                <svg class="icon" width="50px" height="50px" viewBox="0 0 50 50" version="1.1"
                     xmlns="http://www.w3.org/2000/svg"
                     xmlns:xlink="http://www.w3.org/1999/xlink">
                  <g id="页面1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g id="公益诉讼态势分析备份-19" transform="translate(-601.000000, -501.000000)" fill-rule="nonzero">
                      <g id="编组-22备份-2" transform="translate(586.000000, 479.000000)">
                        <g id="线索" transform="translate(16.000000, 23.000000)">
                          <rect id="矩形" fill="#051944" x="0" y="0" width="48" height="48" rx="4"></rect>
                          <path
                            d="M44,0 C46.209139,0 48,1.790861 48,4 M48,44 C48,46.209139 46.209139,48 44,48 M4,48 C1.790861,48 0,46.209139 0,44 M0,4 C0,1.790861 1.790861,0 4,0 L4,0"
                            id="形状" stroke="#0091FF"></path>
                          <g id="法律诉讼" transform="translate(4.000000, 4.000000)">
                            <rect id="矩形" fill="#000000" opacity="0" x="0" y="0" width="40" height="40"></rect>
                            <path
                              d="M22.8477339,25.2642212 C22.7769078,25.4231092 22.7402922,25.5951175 22.7402647,25.7690766 C22.7402647,26.0939835 22.8677282,26.4038947 23.0976623,26.6321627 L25.5627895,29.0972898 C26.4583663,29.9920336 28.0254174,29.9970321 28.9259928,29.0972898 L37.0111767,21.0137721 C37.9364636,20.082576 37.9353466,18.5787232 37.0086774,17.6489027 L34.5435502,15.1837755 C34.1652469,14.7954626 33.5730028,14.710319 33.1006302,14.9763349 L22.7052748,4.58347867 C22.8014952,4.4041192 22.8521345,4.2038507 22.8527325,4.00031242 C22.8549006,3.67520265 22.7250227,3.36313479 22.4928356,3.13556012 L20.0277084,0.672932227 C19.1279662,-0.226810039 17.5625813,-0.221811484 16.6653383,0.672932227 L8.58265363,8.75561687 C8.13572583,9.20110623 7.88452313,9.80618345 7.88452313,10.4372185 C7.88452313,11.0682535 8.13572583,11.6733308 8.58265363,12.1188201 L11.0477808,14.5839473 C11.4101006,14.9378193 11.9508026,15.036668 12.4148892,14.8338757 L15.3623782,17.7788654 L0.922347969,32.222228 C0.58335227,32.5576215 0.39308072,33.0149935 0.394161321,33.4918643 C0.394161321,33.9700607 0.581612227,34.4224311 0.922347969,34.7573352 L3.35165207,37.1899716 C3.68822312,37.5260155 4.14452949,37.714551 4.62013996,37.7140831 C5.09575042,37.7136135 5.55168429,37.5241789 5.8875923,37.1874723 L20.3301218,22.7441098 L22.8477339,25.2642212 Z M14.3001825,13.0660488 L20.9207859,6.44794461 L31.2386636,16.7666554 L24.6155609,23.3839265 L20.3301218,19.0959881 L5.2794332,34.1500091 C4.90950945,34.5018034 4.32839978,34.5007029 3.95981121,34.1475098 C3.78402738,33.9737856 3.68509807,33.7369254 3.68509807,33.4897816 C3.68509807,33.2426378 3.78402738,33.0057776 3.95981121,32.8320533 L18.7055871,18.0837781 L19.0129991,17.7788654 L14.3001825,13.0660488 L14.3001825,13.0660488 Z M26.0659718,25.8040666 C26.0664628,25.708669 26.104119,25.6172184 26.1709486,25.5491396 L33.458861,18.2612273 C33.59989,18.1210076 33.8276859,18.1210076 33.9687149,18.2612273 L34.7884801,19.0843248 C34.8559607,19.1509724 34.89345,19.2417797 34.89345,19.3367525 C34.8929659,19.43215 34.8553097,19.5236007 34.7884801,19.5916795 L27.5005678,26.8795918 C27.357424,27.0145878 27.1338576,27.0145878 26.9907138,26.8795918 L26.1709486,26.0564942 C26.1032561,25.9900133 26.0653855,25.8989436 26.0659718,25.8040666 Z M19.5603434,4.00031242 C19.5605766,4.09585256 19.5228126,4.18756519 19.4553724,4.25523938 L12.1649608,11.545651 C12.0231617,11.6815946 11.7994052,11.6815946 11.6576061,11.545651 L10.8045171,10.6908958 C10.6647513,10.5496799 10.6647513,10.3222578 10.8045171,10.1810419 L18.0924295,2.89312957 C18.2342963,2.75416108 18.4612496,2.75416108 18.6031165,2.89312957 L19.4578716,3.74788473 C19.5236861,3.81619848 19.5603434,3.90617273 19.5603434,4.00031242 L19.5603434,4.00031242 Z M34.5160581,33.6343235 L20.5950459,33.6343235 C17.7924947,33.6370773 15.5210073,35.9078193 15.5173338,38.7103694 L15.5173338,40 L39.5962695,40 L39.5962695,38.7103694 C39.5912197,35.9074151 37.3190156,33.6370742 34.5160581,33.6343235 L34.5160581,33.6343235 Z M18.4548257,37.422405 C18.9053877,36.67194 19.7172177,36.213506 20.5925466,36.2152459 L34.5160581,36.2152459 C35.4108018,36.2152459 36.2114058,36.682617 36.6537791,37.422405 L18.4548257,37.422405 L18.4548257,37.422405 Z"
                              id="形状" fill="#417FEF"></path>
                          </g>
                        </g>
                      </g>
                    </g>
                  </g>
                </svg>
                <div class="wrap">
                  <div class="title">提起诉讼/条</div>
                  <div class="number">
                    <NumberGrow v-if="noticeAndsuggestion.pool.suit_num" :value="noticeAndsuggestion.pool.suit_num"></NumberGrow>
                    <span v-else>{{noticeAndsuggestion.pool.suit_num}}</span>
                  </div>
                </div>
              </div>
              <svg width="214px" height="112px" class="four" viewBox="0 0 214 112" version="1.1"
                   xmlns="http://www.w3.org/2000/svg"
                   xmlns:xlink="http://www.w3.org/1999/xlink">
                <defs>
                  <path
                    d="M8,0 L81.4875,0 L102.6875,10.6024096 L204,10.6024096 C208.418278,10.6024096 212,14.1841316 212,18.6024096 L212,102 C212,106.418278 208.418278,110 204,110 L8,110 C3.581722,110 5.41083001e-16,106.418278 0,102 L0,8 C-5.41083001e-16,3.581722 3.581722,8.11624501e-16 8,0 Z"
                    id="path-1"></path>
                </defs>
                <g id="页面1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g id="公益诉讼态势分析备份-19" transform="translate(-1125.000000, -507.000000)">
                    <g id="编组-42" transform="translate(1126.000000, 508.000000)">
                      <g id="编组-18">
                        <g id="编组-32">
                          <path
                            d="M8,0 L81.4875,0 L102.6875,10.6024096 L204,10.6024096 C208.418278,10.6024096 212,14.1841316 212,18.6024096 L212,102 C212,106.418278 208.418278,110 204,110 L8,110 C3.581722,110 5.41083001e-16,106.418278 0,102 L0,8 C-5.41083001e-16,3.581722 3.581722,8.11624501e-16 8,0 Z"
                            id="矩形" fill="#003070" opacity="0.7"></path>
                          <g id="编组-6">
                            <mask id="mask-2" fill="white">
                              <use xlink:href="#path-1"></use>
                            </mask>
                            <use id="蒙版" fill="#003070" opacity="0.7" xlink:href="#path-1"></use>
                            <g opacity="0.502325149" style="mix-blend-mode: screen;" mask="url(#mask-2)"
                               fill-opacity="0.2">
                              <g transform="translate(-24.000000, -16.000000)">
                                <polygon id="多边形" fill="#417FEF"
                                         points="56 24 67.2583302 30.5 67.2583302 43.5 56 50 44.7416698 43.5 44.7416698 30.5"></polygon>
                                <polygon id="多边形备份-13" fill="#417FEF"
                                         points="128 0 139.25833 6.5 139.25833 19.5 128 26 116.74167 19.5 116.74167 6.5"></polygon>
                                <polygon id="多边形备份-10" fill="#417FEF"
                                         points="13 46 24.2583302 52.5 24.2583302 65.5 13 72 1.74166975 65.5 1.74166975 52.5"></polygon>
                                <polygon id="多边形备份-3" fill="#45B0F1"
                                         points="42 46 53.2583302 52.5 53.2583302 65.5 42 72 30.7416698 65.5 30.7416698 52.5"></polygon>
                                <polygon id="多边形备份-2" fill="#45B0F1"
                                         points="85 24 96.2583302 30.5 96.2583302 43.5 85 50 73.7416698 43.5 73.7416698 30.5"></polygon>
                                <polygon id="多边形备份-11" fill="#45B0F1"
                                         points="99 0 110.25833 6.5 110.25833 19.5 99 26 87.7416698 19.5 87.7416698 6.5"></polygon>
                                <polygon id="多边形备份-6" fill="#45B0F1"
                                         points="42 0 53.2583302 6.5 53.2583302 19.5 42 26 30.7416698 19.5 30.7416698 6.5"></polygon>
                                <polygon id="多边形备份-7" fill="#45B0F1"
                                         points="27 24 38.2583302 30.5 38.2583302 43.5 27 50 15.7416698 43.5 15.7416698 30.5"></polygon>
                                <polygon id="多边形备份-8" fill="#45B0F1"
                                         points="13 0 24.2583302 6.5 24.2583302 19.5 13 26 1.74166975 19.5 1.74166975 6.5"></polygon>
                                <polygon id="多边形备份-4" fill="#3EE9F8"
                                         points="71 46 82.2583302 52.5 82.2583302 65.5 71 72 59.7416698 65.5 59.7416698 52.5"></polygon>
                                <polygon id="多边形备份-14" fill="#3EE9F8"
                                         points="85 68 96.2583302 74.5 96.2583302 87.5 85 94 73.7416698 87.5 73.7416698 74.5"></polygon>
                                <polygon id="多边形备份-12" fill="#3EE9F8"
                                         points="27 68 38.2583302 74.5 38.2583302 87.5 27 94 15.7416698 87.5 15.7416698 74.5"></polygon>
                                <polygon id="多边形备份-5" fill="#417FEF"
                                         points="99 46 110.25833 52.5 110.25833 65.5 99 72 87.7416698 65.5 87.7416698 52.5"></polygon>
                              </g>
                            </g>
                          </g>
                          <path
                            d="M83.475,0 L104.675,10.6024096 M201.4,10.6024096 C207.254218,10.6024096 212,15.3492701 212,21.2048193 M212,99.3975904 C212,105.25314 207.254218,110 201.4,110 M10.6,110 C4.74578165,110 0,105.25314 0,99.3975904 M0,10.6024096 C0,4.74686048 4.74578165,0 10.6,0 L10.6,0"
                            id="形状" stroke="#3DF6FF" opacity="0.7"></path>
                          <foreignObject class="node" x="0" y="0" width="100%" height="100%">
                            <div class="preSuit-wrap">
                              <h3 class="title">已发出诉前公告</h3>
                              <p class="word">
                                <number-grow v-if="noticeAndsuggestion.pool.announcement_num" :value="noticeAndsuggestion.pool.announcement_num | overflow"></number-grow>
                                <span v-else class="unit">件</span>
                              </p>
                            </div>
                          </foreignObject>
                        </g>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
          </div>
          <div class="region-wrap">
            <handing-result title="办案成效" @change="handleClassChange">
              <div style="margin: 0 20px; padding: 10px 0;height: 206px;overflow: auto">
                <irregularityList :id="'aaa'+index" :type="!(index%2) ?'left': 'right'"
                                  v-for="(item,index) in suitFieldDeal.pool[suitFieldDeal.currentTab]" :data="item"
                                  :key="'irregularityList' + index"></irregularityList>
              </div>
            </handing-result>
          </div>
        </div>
        <div class="layout-side-r">
          <div style="height: 309px;margin: 0 0 24px 0;">
            <chart-box-normal title="行政公益诉讼诉前程序">
              <BarChart :data="preSuitList.pool || []" v-if="preSuitList.pool.length"></BarChart>
            </chart-box-normal>
          </div>
          <div class="suggest-wrap" v-loading="suitSuggestion.loading" element-loading-background="rgba(7,17,27,0.6)">
            <chart-box-normal title="检查建议接受单位">
              <div class="legend" slot="legend">
                <span class="item">已整改</span>
                <span class="item">未整改</span>
              </div>
              <div style="height: 100%;overflow: auto;">
                <div class="classic-table-wrap">
                  <!--              <classic-table :data="suitSuggestion.pool"></classic-table>-->
                  <rateBarChart v-for="(item, index) in suitSuggestion.pool" :data="item.data" :label="item.name"
                                :key="'rateBarChart'+ index"></rateBarChart>
                </div>
              </div>
            </chart-box-normal>
          </div>
          <div style="height: 296px;margin: 24px 0 0;" v-loading="courtTrial.loading"
               element-loading-background="rgba(7,17,27,0.6)" auto>
            <chart-box title="法院审结情况" v-model="courtTrial.currentTab">
              <div class="multi-pieChart-wrap" style="height: 100%">
                <multiPieChart title="75%" :data="courtTrial.pool[courtTrial.currentTab]"></multiPieChart>
              </div>
            </chart-box>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
  import ChartBox from './components/chartBox-especial'
  import ChartBoxNormal from './components/chartBox-normal'
  import dataMap from './components/dataMap'
  import anhui from './asserts/anhui.json'

  import pieChart from './components/pieChart'
  import CProgress from './components/progress'
  import RadarChart from './components/radarChart'
  import irregularityList from './components/irregularityList'
  import multiPieChart from './components/3dPieChart'
  import ClassicTable from './components/classicTable'
  import BarChart from './components/barChart'
  import Tabs from './components/tab'
  import HandingResult from './components/handingResult'
  import rateBarChart from './BI/components/rateBarChart'
  import NumberGrow from './components/numberGrow'

  export default {
    name: 'index',
    data() {
      return {
        mapJson: anhui,
        activeRegions: ['合肥市'],
        currentArea: '340100',
        dateArea: '',
        areaCode: [],
        progressColors: [],
        suitType: {
          loading: false,
          currentTab: 'clue',
          pool: {
            clue: [],
            preSuit: [],
            file: [],
            suit: []
          },
          gradual: {
            penal: ['#5cffea', '#bfff79'],
            cival: ['#00fffe', '#0090ff'],
            xfm: ['#feb861', '#ff8c56']
          }
        },
        regionTop: {
          loading: false,
          currentTab: 'clue',
          pool: []
        },
        suitFieldDistribute: {
          loading: false,
          currentTab: 'clue',
          pool: []
        },
        suitSuggestion: {
          loading: false,
          pool: []
        },
        courtTrial: {
          loading: false,
          currentTab: 'clue',
          pool: {}
        },
        suitFieldDeal: {
          loading: false,
          currentTab: 'ecosystem',
          pool: {}
        },
        preSuitList: {
          loading: false,
          pool: []
        },
        noticeAndsuggestion: {
          loading: false,
          pool: []
        },
        mock: [
          {
            name: '水污染',
            children: [
              {
                name: '督促治理别污染水源',
                value: 0
              }
            ]
          },
          {
            name: '水污染',
            children: [
              {
                name: '督促治理别污染水源',
                value: 0
              },
              {
                name: '督促治理别污染水源',
                value: 0
              },
              {
                name: '督促治理别污染水源',
                value: 0
              }
            ]
          },
          {
            name: '水污染',
            children: [
              {
                name: '督促治理别污染水源',
                value: 0
              },
              {
                name: '督促治理别污染水源',
                value: 0
              }
            ]
          }
        ]
      }
    },
    created() {
      this.getAreaCode()
      this.load()
    },
    mounted() {
      this.containerJustify()
      window.addEventListener('resize', this.containerJustify)
      document.body.style.overflow = 'hidden'

      this.$confirm('为了给您一个更好的展示效果，请选择全屏显示', '提示', {
        confirmButtonText: '确定',
        cancelButtonText: '取消'
      })
        .then(() => {
          this.fullScreen()
        })
    },
    methods: {
      load() {
        const params = {
          cityCode: this.currentArea,
          startTime: (this.dateArea || [])[0],
          endTime: (this.dateArea || [])[1]
        }
        this.getLaysuitType(params)
        this.getRegion(params)
        this.getSuitFieldDistribute(params)
        this.getPreSuitList(params)
        this.getSuitSuggestion(params)
        this.getCourtTrial(params)
        this.getSuitFieldDeal(params)
        this.getNotice(params)
      },
      handleAreaChange() {
        this.load()
      },
      handleMapChange(city) {
        city = this.areaCode.filter((area) => {
          return area.name === city
        })[0]
        this.currentArea = city.code
        this.load()
      },
      handleDateChange() {
        this.load()
      },
      containerJustify() {
        this.$refs.dataContainer.style.height = document.documentElement.clientHeight + 'px'
        this.$refs.dataContainer.style.width = document.documentElement.clientWidth + 'px'
      },
      // 诉讼类型分布
      getLaysuitType(params) {
        this.suitType.loading = true
        this.fd.req({
          method: 'get',
          url: 'cap/api/suit/getSuitTypeDistribute',
          data: params
        })
          .then((res) => {
            if (res.data) {
              return res.data
            } else {
              throw res
            }
          })
          .then((data) => {
            for (const key in data) {
              data[key].forEach((item) => {
                switch (item.name) {
                  case '行政':
                    item.type = 'penal'
                    break
                  case '民事':
                    item.type = 'cival'
                    break
                  case '刑附民':
                    item.type = 'xfm'
                    break
                }
              })
            }
            this.suitType.pool = {
              clue: data.clue,
              filing: data.filing,
              beforeSuit: data.beforeSuit,
              suit: data.suit
            }
          })
          .catch((err) => {
            console.error(err)
          })
          .then(() => {
            this.suitType.loading = false
          })
      },
      // 区域分布
      getRegion(params) {
        this.regionTop.loading = true
        this.fd.req({
          method: 'get',
          url: 'cap/api/suit/getSuitAreaDistribute',
          data: params
        })
          .then((res) => {
            if (res.data) {
              return res.data
            } else {
              throw res
            }
          })
          .then((data) => {
            this.regionTop.pool = data
          })
          .catch(() => {
          })
          .then(() => {
            this.regionTop.loading = false
          })
      },
      // 领域分布
      getSuitFieldDistribute(params) {
        this.suitFieldDistribute.loading = true
        this.fd.req({
          method: 'get',
          url: 'cap/api/suit/getSuitFieldDistribute',
          data: params
        })
          .then((res) => {
            if (res.data) {
              return res.data
            } else {
              throw res
            }
          })
          .then((data) => {
            for (const key in data) {
              data[key].forEach((item) => {
                item.total = Math.ceil(item.value * 100 / parseInt(item.rate))
              })
            }
            this.suitFieldDistribute.pool = data
          })
          .catch(() => {
          })
          .then(() => {
            this.suitFieldDistribute.loading = false
          })
      },
      // 行政公益诉讼诉前程序
      getPreSuitList(params) {
        this.preSuitList.loading = true
        this.fd.req({
          method: 'get',
          url: 'cap/api/suit/getSuitProgram',
          data: params
        })
          .then((res) => {
            if (res.data) {
              return res.data
            } else {
              throw res
            }
          })
          .then((data) => {
            this.preSuitList.pool = data
          })
          .catch(() => {
          })
          .then(() => {
            this.preSuitList.loading = false
          })
      },
      // 检查建议接受单位
      getSuitSuggestion(params) {
        this.suitSuggestion.loading = true
        this.fd.req({
          method: 'get',
          url: 'cap/api/suit/getSuitSuggestion',
          data: params
        })
          .then((res) => {
            if (res.data) {
              return res.data
            } else {
              throw res
            }
          })
          .then((data) => {
            this.suitSuggestion.pool = data.map((item) => {
              return {
                name: item.organ,
                data: [
                  {
                    name: 'rectifyNum',
                    rate: item.rectifyNum / item.num * 100 + '%'
                  },
                  {
                    name: 'overdueNum',
                    rate: item.overdueNum / item.num * 100 + '%'
                  }
                ]
              }
            })
          })
          .catch(() => {
          })
          .then(() => {
            this.suitSuggestion.loading = false
          })
      },
      // 法院审结情况
      getCourtTrial(params) {
        this.courtTrial.loading = true
        this.fd.req({
          method: 'get',
          url: 'cap/api/suit/getCourtTrial',
          data: params
        })
          .then((res) => {
            if (res.data) {
              return res.data
            } else {
              throw res
            }
          })
          .then((data) => {
            for (const key in data) {
              data[key].forEach((item) => {
                item.other = Math.ceil(item.value * 100 / parseInt(item.rate) - item.value)
              })
            }
            this.courtTrial.pool = data
          })
          .catch(() => {
          })
          .then(() => {
            this.courtTrial.loading = false
          })
      },
      // 办案成效
      getSuitFieldDeal(params) {
        this.suitFieldDeal.loading = true
        this.fd.req({
          method: 'get',
          url: 'cap/api/suit/getSuitFieldDeal',
          data: params
        })
          .then((res) => {
            if (res.data) {
              return res.data
            } else {
              throw res
            }
          })
          .then((data) => {
            for (const key in data) {
              const group = {}
              data[key].forEach((item) => {
                if (group[item.category]) {
                  group[item.category].children.push({
                    name: item.correct,
                    ...item
                  })
                } else {
                  group[item.category] = {
                    name: item.category,
                    children: [{
                      name: item.correct,
                      ...item
                    }]
                  }
                }
              })
              data[key] = Object.keys(group).map(key => group[key])
            }
            this.suitFieldDeal.pool = data
          })
          .catch(() => {
          })
          .then(() => {
            this.suitFieldDeal.loading = false
          })
      },
      //  已发出公告和检查建议
      getNotice(params) {
        this.fd.req({
          method: 'get',
          url: 'cap/api/suit/getSuitCount',
          data: params
        })
          .then((res) => {
            if (res.data) {
              return res.data
            } else {
              throw res
            }
          })
          .then((data) => {
            this.noticeAndsuggestion.pool = data
          })
          .catch(() => {
          })
          .then(() => {
            this.noticeAndsuggestion.loading = false
          })
      },
      //  获取区域编码
      getAreaCode() {
        this.fd.req({
          url: 'uaa/api/groups/user',
          method: 'GET',
          params: {
            projectCode: 'zhmx',
            groupType: 'area'
          }
        })
          .then((res) => {
            if (res.data) {
              return res.data
            } else {
              throw res
            }
          })
          .then((data) => {
            data = data[0]
            this.areaCode = [data, ...data.children]
          })
          .catch(() => {
          })
          .then(() => {})
      },
      handleClassChange(value) {
        this.suitFieldDeal.currentTab = value
      },
      fullScreen() {
        const el = document.documentElement
        const rfs = el.requestFullScreen || el.webkitRequestFullScreen || el.mozRequestFullScreen || el.msRequestFullscreen
        if (typeof rfs != 'undefined' && rfs) {
          rfs.call(el)
        }
        return
      },
      progressColor(index) {
        const colors = ['#ffb338', '#ffd561', '#93c55d', '#3df6ff', '#0082ff']
        if (index < 4) {
          return colors[index]
        } else {
          return colors[4]
        }
      }
    },
    directives: {
      autoScroll: {
        bind: function(el) {

        },
        inserted(el, binding) {
          const height = el.clientHeight
          const containerHeight = el.parentElement.clientHeight
          const scrolled = el.scrollTop
          const offset = height - containerHeight - scrolled
          clearTimeout(binding.def.timer)
          if (offset <= 0) {
            return
          }
          binding.def.timer = setTimeout(() => {
            scroll()
          }, 1500)

          function scroll() {
            setTimeout(() => {
              if (binding.def.start) {
                if (el.scrollTop < height - containerHeight) {
                  el.scrollTop += 50
                } else {
                  el.scrollTop = 0
                }
                scroll()
              }
            }, 500)
          }

          el.addEventListener('scroll', () => {

          })
        },
        update: function() {

        },
        unbind() {

        },
        timer: null
      }
    },
    filters: {
      overflow(data, max = 999999) {
        return data > max ? max + '+' : data
      }
    },
    computed: {

    },
    components: {
      ChartBox,
      ChartBoxNormal,
      dataMap,
      pieChart,
      CProgress,
      RadarChart,
      irregularityList,
      multiPieChart,
      ClassicTable,
      BarChart,
      Tabs,
      HandingResult,
      rateBarChart,
      NumberGrow
    },
    destroyed() {
      window.removeEventListener('resize', this.containerJustify)
      document.body.style.overflow = ''
    }
  }
</script>

<style scoped lang="scss">
  .data-visual {
    position: relative;
    width: 100%;
    height: 100%;
    background: url('./asserts/bg-2.png') no-repeat;
    background-size: cover;
    padding: 0 32px 0 32px;
    box-sizing: border-box;
    color: #95e1ff;
    font-weight: normal;
    font-family: PingFang SC, Microsoft YaHei, Helvetica Neue, Helvetica, Hiragino Sans GB, Arial, sans-serif;
    position: relative;

    .header {
      height: 83px;
      text-align: center;
      letter-spacing: 1px;

      .back {
        position: absolute;
        top: 28px;
        left: 32px;
        opacity: 0;
        cursor: pointer;
        transition: opacity 0.3s linear;
      }

      &:hover .back {
        opacity: 1;
      }
    }

    .timer-picker-wrap {
      position: absolute;
      top: 28px;
      right: 32px;

      .el-time-picker {
        width: 280px;
        background: transparent;
        border-color: transparent;

        /deep/ .el-range-input {
          background: transparent;
          color: #95e1ff !important;
        }

        /deep/ .el-range-separator {
          color: #95e1ff !important;
        }

      }
    }

    .center {
      width: 1856px;
    }

    @media screen and (min-width: 1920px) and (min-height: 1080px){
      .center {
        position: absolute;
        top: calc(50% + 30px);
        left: 50%;
        transform: translate(-50%, -50%) scale(1);
      }
    }

    .layout {
      display: flex;
      width: 100%;
      height: calc(100% - 84px);

      .layout-side-l {
        flex: 0 0 524px;
        height: 100%;

        .lawsuit-type-wrap {
          margin-top: 40px;
          text-align: center;
        }

        .chart-desc {
          margin-top: 17px;
          font-size: 16px;
          text-align: center;
          font-weight: 600;
        }

        .progress-wrap {
          margin: 17px 24px;

          .c-progress {
            margin: 8px 0;
          }
        }
      }

      .layout-middle {
        flex: 1 0 760px;
        height: 100%;

        .region-wrap {
          height: 296px;
          margin: 24px 24px 0 24px;

          .region-select {
            margin: 10px 24px 0 0;
            width: 180px;
            height: 26px;
            background-color: rgba(16, 47, 94, 0.3);
            border-radius: 13px;
            border: solid 1px #0091ff;
            outline: none;
            font-size: 14px;
            font-weight: normal;
            font-stretch: normal;
            letter-spacing: 0px;
            color: #00d0e4;
            padding: 0 10px;

            option {
              background-color: rgba(9, 26, 88, 1);
            }
          }

          .region-header {
            margin-bottom: 15px;
            position: relative;
            text-align: right;

            .text {
              position: absolute;
              left: 50%;
              top: 0;
              transform: translate(-50%, 0);
              display: inline-block;
              text-align: center;
              font-family: baidu;
              font-weight: normal;
              font-size: 18px;
              line-height: 25px;
              letter-spacing: 2px;
              color: #95e1ff;
              padding: 4px 40px 4px 40px;
              background-image: radial-gradient(ellipse 70px 150px, #4869D7, #044B9A);

              &:after, &:before {
                position: absolute;
                top: 0;
                content: '';
                display: inline-block;
                width: 32px;
                height: 34px;
                background: #044B9A;
              }

              &:before {
                left: -32px;
                shape-outside: polygon(0 0, 50% 100%, 100% 100%, 100% 0);
                clip-path: polygon(0 0, 50% 100%, 100% 100%, 100% 0);

              }

              &:after {
                right: -32px;
                shape-outside: polygon(0 0, 0 100%, 50% 100%, 100% 0);
                clip-path: polygon(0 0, 0 100%, 50% 100%, 100% 0);
              }

              svg {
                height: 32px;
              }
            }
          }
        }

        .preSuit-wrap {
          margin: 12px 0 0;

          .title {
            margin: 0;
            line-height: 25px;
            padding-top: 15px;
            text-align: center;
            font-size: 18px;
            font-weight: normal;
            font-stretch: normal;
            letter-spacing: 1px;
            color: #95e1ff;
          }

          .word {
            margin-top: 4px;
            line-height: 38px;
            text-align: center;
            font-family: TRENDS;
            font-size: 30px;
            font-weight: normal;
            letter-spacing: 2px;
            color: #3df6ff;
          }
        }
      }

      .layout-side-r {
        flex: 0 0 524px;
        height: 100%;

        .multi-pieChart-wrap {
          width: 100%;
          height: 100%;
        }

        .suggest-wrap {
          height: 309px;
          margin: 24px 0;

          .legend {
            font-size: 12px;
            text-align: right;

            .item {
              &:not(:last-child) {
                margin-right: 10px;
              }

              &:before {
                content: '';
                display: inline-block;
                width: 10px;
                height: 10px;
                border-radius: 50%;
                margin-right: 5px;
              }

              &:nth-child(1):before {
                background: #21e3ff;
              }

              &:nth-child(2):before {
                background: #c5ff87;
              }
            }
          }

          .classic-table-wrap {
            margin: 10px 24px 5px 24px;
          }
        }
      }
    }

    .dataMap-wrap {
      width: 760px;
      margin: 0 auto;
      height: 642px;
      position: relative;

      .dataMap-descript {
        .description {
          display: flex;
          align-items: center;
          width: 213px;
          height: 94px;
          position: absolute;
          background-color: rgba(0, 119, 255, 0.25);
          border-radius: 4px;
          border-color: #2C7EFF;
          border-style: solid;
          border-width: 0 2px 0 2px;
          transition: all 0.2s linear;
          text-align: center;
          cursor: pointer;

          .icon {
            margin: 20px;
          }

          .wrap {
            display: flex;
            flex-direction: column;
            justify-content: center;
            width: 100%;
          }

          .title {
            font-size: 20px;
            font-weight: normal;
            font-stretch: normal;
            letter-spacing: 0;
            color: #95e1ff;
          }

          .number {
            margin-top: 10px;
            font-family: TRENDS;
            font-size: 36px;
            font-weight: normal;
            font-stretch: normal;
            letter-spacing: 0px;
            color: #ffb338
          }

          &:hover {
            width: 283px;
            height: 125px;
            border-color: #FFB338;

            .icon {
              transform: translate(0px, -2px) scale(1.5);
            }

            .title {
              font-size: 23px;
            }

            .number {
              font-size: 39px;
              margin-top: 15px;
            }
          }

          &.first {
            top: 60px;
            left: 0
          }

          &.second {
            right: 0;
            top: 90px;
          }

          &.three {
            left: 40px;
            bottom: 50px;
          }
        }

        .four {
          position: absolute;
          bottom: 90px;
          right: 0;
          transition: all 0.2s linear;
          cursor: pointer;

          &:hover {
            transform: scale(1.5);
            bottom: 92px;
            right: 38px;
          }
        }
      }
    }

    .pieChart-wrap {
      display: inline-block;
      margin: 20px 10px;
      width: 130px;
      height: 130px;
    }
  }
</style>
